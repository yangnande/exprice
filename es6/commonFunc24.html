<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>11 个 ES6 方法，用来解决实际开发的 JS 问题</title>
  <style>
    img {
      width: 200px;
      height: 200px;
    }
    .special {
      color: red;
    }
  </style>
</head>
<body>
  <div>
    <p>111</p>
    <p>222</p>
    <p class="three">333</p>
    <p class="special">444</p>
    <button>切换一个元素的类</button>
    <p>不懂4,5</p>
    <img src="../image/dog.jpg" alt="">
    <img src="../image/dog.jpg" alt="">
    <img src="../image/1.jpg" alt="">
  </div>
  <script>
    // 1.如何隐藏所有指定的元素

    // const hide = (el)=>{
    //   Array.from(el).forEach(v=>{
    //     // console.log(v.style)
    //     v.style.display = 'none'
    //   })
    // }
    // let allPs = document.querySelectorAll('p')
    // hide(allPs)
    // console.log(allPs,'allPs')

    // 2.如何检查元素是否具有指定的类？

    // const hasClass = (el,className) => {
    //   console.log(el.classList.contains(className))
    // }
    // let specialP = document.querySelector('p.special')
    // hasClass(specialP,'special')
    // console.log(specialP,'specialP')

    // 3.如何切换一个元素的类?

    // const toggleClass = (el,className) => {
    //   console.log(el.classList)
    //   el.classList.toggle(className)
    // }
    // let sepeialP1 = document.querySelector('p.special','special')
    // document.querySelector('button').onclick = ()=>{
    //   toggleClass(sepeialP1,'special')
    // }

    // *没做成功4.如何获取当前页面的滚动位置？
    
    // const getScrollPosition = (el) => {
    //   console.log(el.pageXOffset,el.scrollLeft,el.pageYOffset,el.scrollTop)
    //   return {
    //     x: el.pageXOffset !==undefined ? el.pageXOffset : el.scrollLeft,
    //     y: el.pageYOffset !==undefined ? el.pageYOffset : el.scrollTop
    //   }
    // }
    // let specialP = document.querySelector('p.special')
    // window.scroll = function() {
    //   getScrollPosition(specialP)
    // }

    // 5.如何平滑滚动到页面顶部

  //  const scrollToTop = () => {
  //    let c = document.documentElement.scrollTop || document.body.scrollTop
  //    if (c>0) {
  //      window.requestAnimationFrame(scrollToTop)
  //      console.log(c-c/8)
  //      window.scrollTo(0,c-c/8)
  //    }
  //  }
  //   // 事例
  //   scrollToTop()

    // 6.如何检查父元素是否包含子元素？
    
    // const elementContain = (parent,children) => parent !== children && parent.contains(children)
    // console.log(elementContain(document.querySelector('head'),document.querySelector('title'))) // true
    // console.log(elementContain(document.querySelector('body'),document.querySelector('body'))) // false

   // 7.如何检查指定的元素在视口中是否可见？

    // const elementIsVisibleInViewport = (el,partiallyVisible = false) => {
    //   if(el) {
    //     const {top,bottom,left,right} = el.getBoundingClientRect();
    //     const {innerHeight,innerWidth} = window
    //     return partiallyVisible ? (top>0&&top<innerHeight || bottom>0&&bottom<innerHeight) &&
    //                             (left>0&&left<innerWidth || right>0&&right<innerWidth) :
    //                             top>=0 && left>=0 && bottom<=innerHeight && right<=innerWidth
    //   }
      
    // }
    // // 事例
    // let el = document.querySelector('p.special')
    // console.log(elementIsVisibleInViewport(el)); // 需要左右可见
    // console.log(elementIsVisibleInViewport(el, true)); // 需要全屏(上下左右)可以见

    // 8.如何获取元素中的所有图像？

    // const getImages = (el,includeDuplicates = false) => {
    //   const images = [...el.getElementsByTagName('img')].map(v =>v.getAttribute('src'))
    //   return includeDuplicates ? images : [...new Set(images)]
    // }
    // console.log(getImages(document, true))
    // console.log(getImages(document, false))

    // 9.如何确定设备是移动设备还是台式机/笔记本电脑？
    //   const detectDeviceType = () =>
    //   /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
    //     ? 'Mobile'
    //     : 'Desktop';

    // // 事例
    // console.log(detectDeviceType()); // "Mobile" or "Desktop"

    // 10.How to get the current URL?
    
    // const currentUrl = () => location.href
    // console.log(currentUrl())

    // 11.如何创建一个包含当前URL参数的对象？

    // const getURLParameters = url =>
    //   { 
    //     return url.match(/([^?=&]+)(=([^&]*))/g) || [].reduce(
    //     (a, v) => ((a[v.slice(0, v.indexOf('='))] = v.slice(v.indexOf('=') + 1)), a),
    //     {})
    //   };

    // // 事例
    // console.log(getURLParameters('http://url.com/page?n=Adam&s=Smith')); // {n: 'Adam', s: 'Smith'}
    // console.log(getURLParameters('google.com')); // {}

  </script>
</body>
</html>