<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // replace:把原有的字符替换成新的字符
        // 在不使用正则的情况下,每当执行一次只能替换一个字符
        var str="zhufeng2015zhufeng2016";
        // str = str.replace("zhufeng", "zhufengpeixun").replace("zhufeng", "zhufengpeixun") // ->没有实现需求
        // str = str.replace(/zhufeng/g,"zhufengpeixun");
        // replace第一项的值是一个正则它的实现原理
        //首先我们和exec捕获一样,把所有和我们正则匹配的都捕获到,然后把捕获的内容替换成我们需要替换的新内容
        //->/zhufeng/g按照这个正则把str中所有可以匹配的都捕获到,然后统一都替换成我们的"zhufengpeixun"
        var reg = /zhufeng/g
        console.log(reg.exec(str)) ; //-> ["zhufeng",index: 0,input:zhufeng2015zhufeng2016"]
        console.log(reg.exec(str)) ; //-> ["zhufeng",index: 11,input:zhufeng2015zhufeng2016"]
        str = str.replace(reg,function(){
            console.log(arguments);
            //第一次执行匿名函数的结果->["zhufeng",0,"zhufeng2015zhufeng2016"]
            //第二次执行匿名函敬的结果->["zhufeng",11,"zhufeng2015zhufeng2016"]
            console.log('ok');
            return 'zhufengpeixun'
        })
        console.log(str);
        //第二个参数换成一个函数
        //1)匿名函数执行多少次,取决于正则能在字符串中捕获多少次->正则捕获两次,所以我们的匿名西教也执行两次
        //2)每一次执行匿名函数,里面传递的参数值arguments和我们自己通过exec获取到的结果是非常的类似的(即使正则有分组,我们同样可以通过arguments获取到分组捕获的内容)
        //3)return:你返回的结果是啥,就相当于把当前这一次大正则捕获的内容替换成你返回的内容
        var str="zhufeng2015zhufeng2016";
        str = str.replace (/\d+/,function() {
            return 1 // 我返回的,把每一次把大正则的内容都替换了
        })
        console.log(str);// zhufeng1zhufeng1
        var stz="zhufeng2015zhufeng2016";
        var reg = /(d+)/g;
        str = str.replace(reg,function () {
            // console.log(arguments[1]); //获取每一次执行匿名函数我们正则捕获到的第一个分组中的内容
            console.log(RegExp.$1);
        });
        RegExp.$1 // 获取到第一个分组捕获到的内容
        var str = "20151213";//->"贰零壹伍壹贰壹参"
        var ary = ["零","壹","贰","参","肆","伍","陆","染","搠","玫"];
        str = str.replace (/\d/g, function () {
            // var num=arguments[0];
            // var str = ary[num];
            // return str
            return ary[arguments[0]]
        })
    </script>
</body>
</html>