<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        var str4= "9335673817"; //29,335,673,817
        var reg4= /^(d{1,3])((\d{3])+)$/;
        var newStr=str4.replace(reg4 , function(){
            var result1=arguments[1];
            var result2=arguments[2]
            return result1+","+result2.replace(/\d{3](?!$)/g,function(){
                return arguments[0] +","
            })
        })
        // 29,335,673,817 
        //29,335,673,817
        // 11-10-1==0
        // 11-9
        // 11-8
        // 11-7-1
        // str.length-1-index
        //如果字符串的长度-索引位置本身-1模3==0,则在这个字符的后边加一个，
        var reg=/\d(?!$)/; //(?!$)表示不给最后的数字加逗号，根本就不去捕获它
        var newStr=str.replace(reg,function(r,i){
            //当replace运行的时候，并且正则匹配成功，则运行此函数:最少传三个参数给此函数（如果正则没有分组），第一个是总正则捕获到的结果，倒数第二个参数是总正则匹配到的结果在原字符str中的索引位置，倒数第一个参数是原字符串本身
            if((str.length-i-1)%3===0){
                return r+",";
            }else{
                return r;
            }
        })
        str=str.split("").reverse().join("");
        //29,335,673,817
        //718，376，533，92
        str=str.replace(/(d{3}(?!$))/,"$1,");
        str=str.split("").reverse().join("");
        reg=/d(?=(\d{3})+$)/g;
        str=str.replace(reg,function( ){
            return arguments[0]+","
        })
        str=str.replace(reg, "$1,");
        // 在支持以下语法的正则中，千分符的示例还可以写成如下方式(?<=exp) Zero-width positive lookbehind reg=/((?<=\d)\d{3})+$/; //供有兴趣的同学参考(?<=\d)\d{3})+$
        var reg=/^(\w)(\w)\w\2\1$ /;
        // 12321,abcba
        var str="aaaaaaaaaaaabbbbbbbbbbbbbbbbbbbccccccccccc83999999999999";str=str.replace(/(\w)\1+/g,"$1");
        alert(str)
    </script>
</body> 
</html>