<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    //-> arguments.sort() ;//->Uncaught TypeError: arguments.sort is not a function arguments是一个类数组集合,它不是数组,不能直接使用数组的方法
    function avgFn() {
      // ->1、将类数组转换为数组,把agunents克隆一份一模一样的数组出来
      // ->借用数组原型上的slice方法,当slice执行的时候,让方法中的this变为我要处理的arguments,实现将类数组arguments转换为数组
      var ary = Array.prototype.slice.call(arguments);
      // var ary = [].slice.call(arguments);
      // var ary = [];
      // for (var i=0;i<arguments.length;i++){
      //   ary[ary.length] = arguments[i];  
      // }
      //->2、给数组帮序,去掉开头和结尾,剩下的是求平均数
      Array.prototype.sort.call(arguments,function (a,b) {
        return a - b
      });
      // console.log(arguments);
      [].shift.call(arguments);
      [].pop.call(arguments);
      return (eval([].join.call(arguments,"+"))/ ary.length).toFixed(2)
      // ary.sort(function(a,b){
      //   return a - b
      // })
      // ary.shift()
      // ary.pop()
      // return (eval(ary.join("+"))) / ary.length.toFixed(2)
    }
    // avgFn(9.8,9.7,10,9.9,9.0,9.8,3.0);
    // var res = avgFn(9.8,9.7,10,9.9,9.0,9.8,3.0);
    // console.log(res);
    Array.prototype.mySlice = function() {
      //this->当前要操作的这个教组

      // 内置代码
      var ary = [];
      for (var i =0; i < this.length; i++) {
        ary[ary.length] = this[i];
      }
      // // 我们自己写一份把arguments转换为数组的代码
      // var ary = [];
      // for (var i =0; i < arguments.length; i++) {
      //   ary[ary.length] = arguments[i];
      // }
      return ary
    }
    // var ary = [12,23,34];
    // var newAry = ary.mySlice()
    // console.log(newAry);
  </script>
</body>
</html>